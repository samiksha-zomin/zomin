{"ast":null,"code":"var _jsxFileName = \"/Users/samikshazomin/Desktop/zomin/frontend/src/Components/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport Axios from \"axios\";\nimport { Container, Row, Col, Form } from \"react-bootstrap\";\nimport TopBanner from \"./TopBanner\";\nimport Profile from \"./Profile\";\nimport Suggestion from \"./Suggestion\";\nimport MiddleBanner from \"./MiddleBanner\";\nimport Posts from './Posts';\nimport { FcCamera, FcVideoCall } from \"react-icons/fc\";\nimport { BsXCircleFill } from \"react-icons/bs\";\nimport { BiMessageCheck, BiMinusCircle } from \"react-icons/bi\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home(props) {\n  _s();\n\n  const userID = props.userID;\n  const [viewProfile, setViewProfile] = useState(\"avatar/male.svg\");\n  const [postList, setPostList] = useState([]);\n  useEffect(() => {\n    Axios.get(`${process.env.REACT_APP_SERVER_DOMAIN}/home/postList`).then(response => {\n      setPostList(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    Axios.get(`${process.env.REACT_APP_SERVER_DOMAIN}/home/userProfile/` + userID).then(response => {\n      const profileDetail1 = response.data[0];\n      const profileDetail2 = response.data[1];\n      var profile;\n\n      if (profileDetail1.length === 0) {\n        if (profileDetail2[0].gender === \"Male\") {\n          profile = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/avatar/male.svg`;\n          setViewProfile(profile);\n        } else {\n          profile = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/avatar/female.svg`;\n          setViewProfile(profile);\n        }\n      } else {\n        profile = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/user/` + profileDetail1[0].profile_photo;\n        setViewProfile(profile);\n      }\n    });\n  }, [userID]); //Text Input\n\n  const [postText, setPostText] = useState(\"\"); //Image Input\n\n  const [postImage, setPostImage] = useState();\n  const [postImageName, setPostImageName] = useState(\"\");\n  const [postVideo, setPostVideo] = useState();\n  const [postVideoName, setPostVideoName] = useState(\"\");\n  const [imageLength, setImageLength] = useState(false);\n  const [videoLength, setVideoLength] = useState(false); //TEXT INPUT\n\n  const textChange = event => {\n    let text = event.target.value;\n    setPostText(text);\n  }; //IMAGE INPUT\n\n\n  const imageChange = event => {\n    let imageFile = event.target.files[0];\n\n    if (event.target.files && event.target.files.length > 0) {\n      setPostImage(imageFile);\n      setPostImageName(imageFile.name);\n      setImageLength(true);\n    }\n\n    if (event.target.files[0].size > 5e6) {\n      setPostImage();\n      setImageLength(false);\n      return toast.warn( /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Please upload a file smaller than 5 MB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 10\n      }, this));\n    }\n\n    if (!imageFile.name.match(/\\.(jpg|jpeg|png|gif)$/)) {\n      setPostImage();\n      setImageLength(false);\n      return toast.warn( /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Invalid File Upload. Please Try to Upload file with jpg, jpeg, png or gif\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 10\n      }, this));\n    }\n  };\n\n  const removeSelectedImage = () => {\n    setPostImage();\n    setImageLength(false);\n  }; //VIDEO INPUT\n\n\n  const videoChange = event => {\n    let videoFile = event.target.files[0];\n\n    if (event.target.files && event.target.files.length > 0) {\n      setPostVideo(videoFile);\n      setPostVideoName(videoFile.name);\n      setVideoLength(true);\n    }\n\n    if (event.target.files[0].size > 5e7) {\n      setPostVideo();\n      setVideoLength(false);\n      return toast.warn( /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Please upload a file smaller than 50 MB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 10\n      }, this));\n    }\n\n    if (!videoFile.name.match(/\\.(mp4)$/)) {\n      setPostVideo();\n      setVideoLength(false);\n      return toast.warn( /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Invalid File Upload. Please Try to Upload file with mp4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 10\n      }, this));\n    }\n  };\n\n  const removeSelectedVideo = () => {\n    setPostVideo();\n    setVideoLength(false);\n  }; //Form Input\n\n\n  let createPostFormIsValid = false;\n\n  if (postText !== \"\" || imageLength || videoLength) {\n    createPostFormIsValid = true;\n  }\n\n  const createPostFormSubmissionHandler = event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", postImage);\n    formData.append(\"fileName\", postImageName);\n    formData.append(\"fileVideo\", postVideo);\n    formData.append(\"fileVideoName\", postVideoName);\n    formData.append(\"text\", postText);\n    formData.append(\"userID\", userID);\n    console.log(formData);\n    Axios.post(`${process.env.REACT_APP_SERVER_DOMAIN}/home/createPost`, formData).then(response => {\n      if (response.data.error) {\n        return toast.error( /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(BiMinusCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 14\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: response.data.error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 12\n        }, this));\n      } else {\n        return [toast.success( /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(BiMessageCheck, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 16\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: response.data.success\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 14\n        }, this)), console.log(\"edcf\")];\n      }\n    });\n    document.getElementById(\"closeButton\").click();\n    setPostText(\"\");\n    setPostImage(\"\");\n    setPostVideo(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"home\",\n    className: \"home my-2\",\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"mx-auto mb-5\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(TopBanner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-2\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: 2,\n          className: \"d-none d-xs-none d-sm-none d-md-none d-lg-block\",\n          children: [/*#__PURE__*/_jsxDEV(Profile, {\n            userID: userID\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Suggestion, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 7,\n          md: 9,\n          lg: 7,\n          children: [/*#__PURE__*/_jsxDEV(Posts, {\n            userID: userID\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(MiddleBanner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), postList.map((postDetails, key) => {\n            const postID = postDetails.post_id;\n            const postText = postDetails.post_text;\n            const postImageName = postDetails.post_image;\n            const postVideoName = postDetails.post_video;\n            const postOwnerID = postDetails.owner_user_id;\n            const postUserName = postDetails.name;\n            const postingTime = new Date(postDetails.time);\n            const postCompany = postDetails.company;\n            const postCompanyName = postDetails.companyname;\n            const postTime = postingTime.toLocaleDateString(\"en-GB\", {\n              day: \"numeric\",\n              month: \"short\",\n              year: \"numeric\",\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n              hour12: true\n            }).replace(/ /g, \" \");\n            const postImage = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/post/` + postImageName;\n            const postVideo = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Videos/post/` + postVideoName;\n            const sharePostLink = \"https://www.zom-in.com/#\" + postID;\n            return /*#__PURE__*/_jsxDEV(Container, {\n              id: postID,\n              className: \"border p-2 mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"mb-3\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  xs: 10,\n                  sm: 10,\n                  className: \"text-start\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(Col, {\n                      xs: 2,\n                      sm: 1,\n                      className: \"p-0 ps-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: viewProfile,\n                        alt: \"Zom-IN User\",\n                        className: \" col w-100 rounded-circle\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 15\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"mfZaPvVIiA8iLT0R+lMMnQGg3qU=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/samikshazomin/Desktop/zomin/frontend/src/Components/Home/Home.js"],"names":["React","useState","useEffect","Fragment","Axios","Container","Row","Col","Form","TopBanner","Profile","Suggestion","MiddleBanner","Posts","FcCamera","FcVideoCall","BsXCircleFill","BiMessageCheck","BiMinusCircle","toast","Home","props","userID","viewProfile","setViewProfile","postList","setPostList","get","process","env","REACT_APP_SERVER_DOMAIN","then","response","data","profileDetail1","profileDetail2","profile","length","gender","profile_photo","postText","setPostText","postImage","setPostImage","postImageName","setPostImageName","postVideo","setPostVideo","postVideoName","setPostVideoName","imageLength","setImageLength","videoLength","setVideoLength","textChange","event","text","target","value","imageChange","imageFile","files","name","size","warn","match","removeSelectedImage","videoChange","videoFile","removeSelectedVideo","createPostFormIsValid","createPostFormSubmissionHandler","preventDefault","formData","FormData","append","console","log","post","error","success","document","getElementById","click","map","postDetails","key","postID","post_id","post_text","post_image","post_video","postOwnerID","owner_user_id","postUserName","postingTime","Date","time","postCompany","company","postCompanyName","companyname","postTime","toLocaleDateString","day","month","year","hour","minute","hour12","replace","sharePostLink"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport Axios from \"axios\";\nimport { Container, Row, Col, Form } from \"react-bootstrap\";\n\nimport TopBanner from \"./TopBanner\";\nimport Profile from \"./Profile\";\nimport Suggestion from \"./Suggestion\";\nimport MiddleBanner from \"./MiddleBanner\";\nimport Posts from './Posts';\n\nimport { FcCamera, FcVideoCall } from \"react-icons/fc\";\nimport { BsXCircleFill } from \"react-icons/bs\";\nimport { BiMessageCheck, BiMinusCircle } from \"react-icons/bi\";\n\nimport { toast } from \"react-toastify\";\n\nfunction Home(props) {\n  const userID = props.userID;\n  const [viewProfile, setViewProfile] = useState(\"avatar/male.svg\");\n\n  const [postList, setPostList] = useState([]);\n\n  useEffect(() => {\n    Axios.get(`${process.env.REACT_APP_SERVER_DOMAIN}/home/postList`).then(\n      (response) => {\n        setPostList(response.data);\n      }\n    );\n  }, []);\n\n  useEffect(() => {\n    Axios.get(\n      `${process.env.REACT_APP_SERVER_DOMAIN}/home/userProfile/` + userID\n    ).then((response) => {\n      const profileDetail1 = response.data[0];\n      const profileDetail2 = response.data[1];\n\n      var profile;\n\n      if (profileDetail1.length === 0) {\n        if (profileDetail2[0].gender === \"Male\") {\n          profile = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/avatar/male.svg`;\n          setViewProfile(profile);\n        } else {\n          profile = `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/avatar/female.svg`;\n          setViewProfile(profile);\n        }\n      } else {\n        profile =\n          `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/user/` +\n          profileDetail1[0].profile_photo;\n        setViewProfile(profile);\n      }\n    });\n  }, [userID]);\n\n   //Text Input\n   const [postText, setPostText] = useState(\"\");\n\n   //Image Input\n   const [postImage, setPostImage] = useState();\n   const [postImageName, setPostImageName] = useState(\"\");\n   const [postVideo, setPostVideo] = useState();\n   const [postVideoName, setPostVideoName] = useState(\"\");\n   const [imageLength, setImageLength] = useState(false);\n   const [videoLength, setVideoLength] = useState(false);\n \n   //TEXT INPUT\n   const textChange = (event) => {\n     let text = event.target.value;\n     setPostText(text);\n   };\n \n   //IMAGE INPUT\n   const imageChange = (event) => {\n     let imageFile = event.target.files[0];\n \n     if (event.target.files && event.target.files.length > 0) {\n       setPostImage(imageFile);\n       setPostImageName(imageFile.name);\n       setImageLength(true);\n     }\n \n     if (event.target.files[0].size > 5e6) {\n       setPostImage();\n       setImageLength(false);\n       return toast.warn(\n         <Fragment>\n           <span>Please upload a file smaller than 5 MB</span>\n         </Fragment>\n       );\n     }\n \n     if (!imageFile.name.match(/\\.(jpg|jpeg|png|gif)$/)) {\n       setPostImage();\n       setImageLength(false);\n       return toast.warn(\n         <Fragment>\n           <span>\n             Invalid File Upload. Please Try to Upload file with jpg, jpeg, png\n             or gif\n           </span>\n         </Fragment>\n       );\n     }\n   };\n \n   const removeSelectedImage = () => {\n     setPostImage();\n     setImageLength(false);\n   };\n \n   //VIDEO INPUT\n   const videoChange = (event) => {\n     let videoFile = event.target.files[0];\n \n     if (event.target.files && event.target.files.length > 0) {\n       setPostVideo(videoFile);\n       setPostVideoName(videoFile.name);\n \n       setVideoLength(true);\n     }\n \n     if (event.target.files[0].size > 5e7) {\n       setPostVideo();\n       setVideoLength(false);\n       return toast.warn(\n         <Fragment>\n           <span>Please upload a file smaller than 50 MB</span>\n         </Fragment>\n       );\n     }\n \n     if (!videoFile.name.match(/\\.(mp4)$/)) {\n       setPostVideo();\n       setVideoLength(false);\n       return toast.warn(\n         <Fragment>\n           <span>Invalid File Upload. Please Try to Upload file with mp4</span>\n         </Fragment>\n       );\n     }\n   };\n   const removeSelectedVideo = () => {\n     setPostVideo();\n     setVideoLength(false);\n   };\n \n   //Form Input\n   let createPostFormIsValid = false;\n \n   if (postText !== \"\" || imageLength || videoLength) {\n     createPostFormIsValid = true;\n   }\n \n   const createPostFormSubmissionHandler = (event) => {\n     event.preventDefault();\n     const formData = new FormData();\n     formData.append(\"file\", postImage);\n     formData.append(\"fileName\", postImageName);\n \n     formData.append(\"fileVideo\", postVideo);\n     formData.append(\"fileVideoName\", postVideoName);\n \n     formData.append(\"text\", postText);\n     formData.append(\"userID\", userID);\n     console.log(formData);\n     Axios.post(\n       `${process.env.REACT_APP_SERVER_DOMAIN}/home/createPost`,\n       formData\n     ).then((response) => {\n       if (response.data.error) {\n         return toast.error(\n           <Fragment>\n             <BiMinusCircle /> <span>{response.data.error}</span>\n           </Fragment>\n         );\n       } else {\n         return [\n           toast.success(\n             <Fragment>\n               <BiMessageCheck /> <span>{response.data.success}</span>\n             </Fragment>\n           ),\n           console.log(\"edcf\"),\n         ];\n       }\n     });\n     document.getElementById(\"closeButton\").click();\n     setPostText(\"\");\n     setPostImage(\"\");\n     setPostVideo(\"\");\n   };\n  return (\n    <div id=\"home\" className=\"home my-2\">\n      <Container className=\"mx-auto mb-5\">\n        <Row>\n          <TopBanner />\n        </Row>\n      </Container>\n      <Container className=\"my-2\">\n        <Row>\n          <Col\n            lg={2}\n            className=\"d-none d-xs-none d-sm-none d-md-none d-lg-block\"\n          >\n            <Profile userID={userID} />\n            <Suggestion />\n          </Col>\n\n          <Col sm={7} md={9} lg={7}>\n            {/* CreatePost */}\n            \n\n<Posts userID={userID} />\n            <MiddleBanner />\n\n            {/* PostList */}\n            {postList.map((postDetails, key) => {\n              const postID = postDetails.post_id;\n              const postText = postDetails.post_text;\n              const postImageName = postDetails.post_image;\n              const postVideoName = postDetails.post_video;\n              const postOwnerID = postDetails.owner_user_id;\n              const postUserName = postDetails.name;\n              const postingTime = new Date(postDetails.time);\n              const postCompany = postDetails.company;\n              const postCompanyName = postDetails.companyname;\n\n              const postTime = postingTime\n                .toLocaleDateString(\"en-GB\", {\n                  day: \"numeric\",\n                  month: \"short\",\n                  year: \"numeric\",\n                  hour: \"2-digit\",\n                  minute: \"2-digit\",\n                  hour12: true,\n                })\n                .replace(/ /g, \" \");\n\n              const postImage =\n                `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Images/post/` +\n                postImageName;\n              const postVideo =\n                `${process.env.REACT_APP_SERVER_DOMAIN}/public/Assests/Videos/post/` +\n                postVideoName;\n\n              const sharePostLink = \"https://www.zom-in.com/#\" + postID;\n\n              return (\n                <Container id={postID} className=\"border p-2 mb-3\">\n                <Row className=\"mb-3\">\n        <Col xs={10} sm={10} className=\"text-start\">\n          <Row>\n            <Col xs={2} sm={1} className=\"p-0 ps-2\">\n              <img\n                src={viewProfile}\n                alt=\"Zom-IN User\"\n                className=\" col w-100 rounded-circle\"\n              />\n            </Col>\n            </Row>\n            </Col>\n            </Row>\n                </Container>\n              );\n            })}\n\n\n\n\n\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}